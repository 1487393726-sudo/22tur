{
  "name": "è´­ç‰©è½¦æŒ‰é’®",
  "description": "æ˜¾ç¤ºè´­ç‰©è½¦å›¾æ ‡å’Œå•†å“æ•°é‡çš„å¯¼èˆªæŒ‰é’®ç»„ä»¶",
  "type": "component",
  "framework": "React",
  "styling": "Tailwind CSS",
  "layout": {
    "container": {
      "position": "relative",
      "display": "inline-flex",
      "alignItems": "center",
      "justifyContent": "center",
      "padding": "8px",
      "borderRadius": "8px",
      "cursor": "pointer",
      "transition": "all 0.2s ease"
    },
    "badge": {
      "position": "absolute",
      "top": "-4px",
      "right": "-4px",
      "minWidth": "20px",
      "height": "20px",
      "borderRadius": "50%",
      "display": "flex",
      "alignItems": "center",
      "justifyContent": "center"
    }
  },
  "components": {
    "cartIcon": {
      "width": "20px",
      "height": "20px",
      "color": "currentColor",
      "strokeWidth": "2"
    },
    "countBadge": {
      "minWidth": "20px",
      "height": "20px",
      "backgroundColor": "#3b82f6",
      "color": "#ffffff",
      "fontSize": "12px",
      "fontWeight": "600",
      "borderRadius": "50%",
      "display": "flex",
      "alignItems": "center",
      "justifyContent": "center",
      "position": "absolute",
      "top": "-4px",
      "right": "-4px",
      "border": "2px solid #ffffff",
      "boxShadow": "0 1px 3px rgba(0, 0, 0, 0.1)"
    },
    "loadingState": {
      "opacity": "0.7",
      "cursor": "default"
    }
  },
  "states": {
    "default": {
      "container": {
        "backgroundColor": "transparent",
        "color": "#6b7280"
      },
      "countBadge": {
        "display": "none"
      }
    },
    "withItems": {
      "countBadge": {
        "display": "flex"
      }
    },
    "hover": {
      "container": {
        "backgroundColor": "rgba(0, 0, 0, 0.05)",
        "color": "#374151"
      }
    },
    "active": {
      "container": {
        "backgroundColor": "rgba(0, 0, 0, 0.1)",
        "transform": "scale(0.95)"
      }
    },
    "loading": {
      "container": {
        "opacity": "0.7",
        "cursor": "default"
      },
      "countBadge": {
        "display": "none"
      }
    },
    "focused": {
      "container": {
        "outline": "2px solid #3b82f6",
        "outlineOffset": "2px"
      }
    }
  },
  "interactions": {
    "cartNavigation": {
      "trigger": "click",
      "target": "container",
      "action": "navigate: /client/cart",
      "feedback": "page navigation"
    },
    "hover": {
      "trigger": "mouseenter",
      "target": "container",
      "action": "setState: hover",
      "feedback": "background color change"
    },
    "leave": {
      "trigger": "mouseleave",
      "target": "container",
      "action": "removeState: hover",
      "feedback": "revert background color"
    },
    "mouseDown": {
      "trigger": "mousedown",
      "target": "container",
      "action": "setState: active",
      "feedback": "scale down animation"
    },
    "mouseUp": {
      "trigger": "mouseup",
      "target": "container",
      "action": "removeState: active",
      "feedback": "scale up animation"
    },
    "focus": {
      "trigger": "focus",
      "target": "container",
      "action": "setState: focused",
      "feedback": "focus ring appearance"
    },
    "blur": {
      "trigger": "blur",
      "target": "container",
      "action": "removeState: focused",
      "feedback": "focus ring removal"
    }
  },
  "badgeLogic": {
    "displayCondition": "itemCount > 0",
    "maxDisplay": "99+",
    "countSource": "useCartStore.getItemCount()",
    "updateTrigger": "cart state changes"
  },
  "responsive": {
    "mobile": {
      "breakpoint": "640px",
      "changes": {
        "container.padding": "10px",
        "cartIcon.width": "22px",
        "cartIcon.height": "22px",
        "countBadge.minWidth": "22px",
        "countBadge.height": "22px",
        "countBadge.fontSize": "13px"
      }
    },
    "tablet": {
      "breakpoint": "768px",
      "changes": {
        "container.padding": "9px"
      }
    }
  },
  "accessibility": {
    "keyboardNavigation": true,
    "screenReader": {
      "cartButton": "è´­ç‰©è½¦æŒ‰é’®",
      "itemCount": "è´­ç‰©è½¦ä¸­æœ‰ {count} ä»¶å•†å“",
      "emptyCart": "è´­ç‰©è½¦ä¸ºç©º",
      "navigation": "å‰å¾€è´­ç‰©è½¦é¡µé¢"
    },
    "focusManagement": {
      "focusRing": "visible focus indicator",
      "tabIndex": "0"
    },
    "announcements": {
      "itemAdded": "å•†å“å·²æ·»åŠ åˆ°è´­ç‰©è½¦",
      "itemRemoved": "å•†å“å·²ä»è´­ç‰©è½¦ç§»é™¤",
      "cartUpdated": "è´­ç‰©è½¦å·²æ›´æ–°"
    }
  },
  "performance": {
    "lazyLoading": false,
    "memoization": ["item count", "mounted state"],
    "bundleSize": "~3KB gzipped",
    "hydration": "client-side hydration safe"
  },
  "errorHandling": {
    "storeError": {
      "display": "fallback state",
      "message": "è´­ç‰©è½¦æš‚æ—¶ä¸å¯ç”¨",
      "retry": false
    },
    "navigationError": {
      "display": "error boundary",
      "message": "å¯¼èˆªå¤±è´¥",
      "retry": true
    },
    "hydrationMismatch": {
      "prevention": "mounted state check",
      "fallback": "loading state display"
    }
  },
  "animations": {
    "badgeAppear": {
      "type": "scaleIn + fadeIn",
      "duration": "200ms",
      "easing": "ease-out"
    },
    "badgeDisappear": {
      "type": "scaleOut + fadeOut",
      "duration": "150ms",
      "easing": "ease-in"
    },
    "countUpdate": {
      "type": "bounce",
      "duration": "300ms",
      "easing": "ease-out"
    },
    "hover": {
      "type": "backgroundTransition",
      "duration": "200ms",
      "easing": "ease-out"
    },
    "active": {
      "type": "scale",
      "duration": "100ms",
      "easing": "ease-in-out"
    }
  },
  "stateManagement": {
    "store": "Zustand cart store",
    "subscription": "automatic re-render on count change",
    "persistence": "localStorage/sessionStorage",
    "hydration": "SSR-safe implementation"
  },
  "theming": {
    "colorScheme": "adaptive",
    "variants": {
      "light": {
        "container": "#ffffff",
        "icon": "#6b7280",
        "badge": "#3b82f6",
        "hover": "rgba(0, 0, 0, 0.05)"
      },
      "dark": {
        "container": "#1f2937",
        "icon": "#9ca3af",
        "badge": "#3b82f6",
        "hover": "rgba(255, 255, 255, 0.05)"
      }
    }
  }
}

---

# è´­ç‰©è½¦æŒ‰é’®ç»„ä»¶è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°
è´­ç‰©è½¦æŒ‰é’®æ˜¯ä¸€ä¸ªå¯¼èˆªç»„ä»¶ï¼Œæ˜¾ç¤ºè´­ç‰©è½¦å›¾æ ‡å’Œå½“å‰å•†å“æ•°é‡ï¼Œç”¨æˆ·ç‚¹å‡»åå¯è·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢ã€‚è¯¥ç»„ä»¶é›†æˆäº†çŠ¶æ€ç®¡ç†ï¼Œèƒ½å¤Ÿå®æ—¶åæ˜ è´­ç‰©è½¦ä¸­çš„å•†å“æ•°é‡å˜åŒ–ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. è´­ç‰©è½¦çŠ¶æ€æ˜¾ç¤º
- **å›¾æ ‡å±•ç¤º**ï¼šä½¿ç”¨è´­ç‰©è½¦å›¾æ ‡è¡¨ç¤ºåŠŸèƒ½
- **æ•°é‡å¾½ç« **ï¼šæ˜¾ç¤ºè´­ç‰©è½¦ä¸­çš„å•†å“æ€»æ•°
- **å®æ—¶æ›´æ–°**ï¼šè´­ç‰©è½¦çŠ¶æ€å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°æ˜¾ç¤º
- **æ•°é‡é™åˆ¶**ï¼šè¶…è¿‡99ä»¶å•†å“æ˜¾ç¤º"99+"

### 2. å¯¼èˆªåŠŸèƒ½
- **é¡µé¢è·³è½¬**ï¼šç‚¹å‡»åè·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢
- **é“¾æ¥è¯­ä¹‰**ï¼šä½¿ç”¨ Next.js Link ç»„ä»¶å®ç°
- **é”®ç›˜å¯¼èˆª**ï¼šæ”¯æŒ Tab é”®å’Œ Enter é”®æ“ä½œ

### 3. çŠ¶æ€ç®¡ç†é›†æˆ
- **Zustand é›†æˆ**ï¼šè¿æ¥åˆ°å…¨å±€è´­ç‰©è½¦çŠ¶æ€
- **è‡ªåŠ¨è®¢é˜…**ï¼šçŠ¶æ€å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°æ¸²æŸ“
- **SSR å®‰å…¨**ï¼šé˜²æ­¢æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ¸²æŸ“ä¸ä¸€è‡´

## è§†è§‰è®¾è®¡

### åŸºç¡€å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›’             â”‚  â† æ— å•†å“çŠ¶æ€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›’      â­•3    â”‚  â† æœ‰å•†å“çŠ¶æ€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶ç»“æ„
- **å®¹å™¨**ï¼š8px å†…è¾¹è·ï¼Œåœ†è§’è¾¹æ¡†
- **å›¾æ ‡**ï¼š20px Ã— 20px è´­ç‰©è½¦å›¾æ ‡
- **å¾½ç« **ï¼š20px Ã— 20px åœ†å½¢æ•°é‡æ˜¾ç¤º
- **å®šä½**ï¼šå¾½ç« ç›¸å¯¹å®¹å™¨å³ä¸Šè§’å®šä½

### é¢œè‰²æ–¹æ¡ˆ
- **é»˜è®¤çŠ¶æ€**ï¼šå›¾æ ‡ä¸ºä¸­ç°è‰² (#6b7280)
- **æ‚¬åœçŠ¶æ€**ï¼šèƒŒæ™¯ä¸ºæµ…ç°è‰²ï¼Œå›¾æ ‡å˜æ·±
- **å¾½ç« èƒŒæ™¯**ï¼šä¸»é¢˜è“è‰² (#3b82f6)
- **å¾½ç« æ–‡å­—**ï¼šç™½è‰² (#ffffff)
- **è¾¹æ¡†**ï¼šç™½è‰²è¾¹æ¡†å¢å¼ºå¯¹æ¯”åº¦

### å°ºå¯¸è§„æ ¼
- **å®¹å™¨å°ºå¯¸**ï¼š36px Ã— 36px (å«å†…è¾¹è·)
- **å›¾æ ‡å°ºå¯¸**ï¼š20px Ã— 20px
- **å¾½ç« å°ºå¯¸**ï¼š20px Ã— 20px (æœ€å°å®½åº¦)
- **å­—ä½“å¤§å°**ï¼š12pxï¼Œç²—ä½“

## äº¤äº’è®¾è®¡

### ç”¨æˆ·æ“ä½œæµç¨‹
1. **æŸ¥çœ‹çŠ¶æ€**
   - ç”¨æˆ·çœ‹åˆ°è´­ç‰©è½¦å›¾æ ‡
   - å¦‚æœ‰å•†å“ï¼Œæ˜¾ç¤ºæ•°é‡å¾½ç« 

2. **äº¤äº’åé¦ˆ**
   - é¼ æ ‡æ‚¬åœæ—¶èƒŒæ™¯è‰²å˜åŒ–
   - ç‚¹å‡»æ—¶è½»å¾®ç¼©æ”¾æ•ˆæœ
   - é”®ç›˜ç„¦ç‚¹æ—¶æ˜¾ç¤ºç„¦ç‚¹ç¯

3. **å¯¼èˆªè·³è½¬**
   - ç‚¹å‡»åè·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢
   - ä¿æŒå½“å‰è´­ç‰©è½¦çŠ¶æ€

### çŠ¶æ€å˜åŒ–åŠ¨ç”»
- **å¾½ç« å‡ºç°**ï¼šç¼©æ”¾ + æ·¡å…¥åŠ¨ç”»
- **å¾½ç« æ¶ˆå¤±**ï¼šç¼©æ”¾ + æ·¡å‡ºåŠ¨ç”»
- **æ•°é‡æ›´æ–°**ï¼šè½»å¾®å¼¹è·³æ•ˆæœ
- **æ‚¬åœæ•ˆæœ**ï¼šèƒŒæ™¯è‰²å¹³æ»‘è¿‡æ¸¡

## å“åº”å¼è®¾è®¡

### ç§»åŠ¨ç«¯é€‚é… (< 640px)
- å¢åŠ å®¹å™¨å†…è¾¹è·åˆ° 10px
- å›¾æ ‡å°ºå¯¸å¢åŠ åˆ° 22px Ã— 22px
- å¾½ç« å°ºå¯¸å¢åŠ åˆ° 22px Ã— 22px
- å­—ä½“å¤§å°å¢åŠ åˆ° 13px

### å¹³æ¿ç«¯é€‚é… (768px - 1024px)
- å®¹å™¨å†…è¾¹è·è°ƒæ•´ä¸º 9px
- ä¿æŒå…¶ä»–å°ºå¯¸ä¸å˜
- ä¼˜åŒ–è§¦æ‘¸ç›®æ ‡å¤§å°

### æ¡Œé¢ç«¯ä¼˜åŒ–
- ä¿æŒé»˜è®¤å°ºå¯¸
- ä¼˜åŒ–é¼ æ ‡æ‚¬åœæ•ˆæœ
- æ”¯æŒé”®ç›˜å¯¼èˆª

## æ— éšœç¢è®¾è®¡

### é”®ç›˜å¯¼èˆª
- æ”¯æŒ Tab é”®å¯¼èˆªåˆ°æŒ‰é’®
- æ”¯æŒ Enter é”®å’Œ Space é”®æ¿€æ´»
- æ˜æ˜¾çš„ç„¦ç‚¹æŒ‡ç¤ºå™¨

### å±å¹•é˜…è¯»å™¨æ”¯æŒ
- è¯­ä¹‰åŒ–çš„é“¾æ¥ç»“æ„
- åŠ¨æ€çš„å•†å“æ•°é‡æ’­æŠ¥
- è´­ç‰©è½¦çŠ¶æ€çš„æè¿°

### è§†è§‰è¾…åŠ©
- é«˜å¯¹æ¯”åº¦çš„é¢œè‰²æ­é…
- æ¸…æ™°çš„å›¾æ ‡è®¾è®¡
- è¶³å¤Ÿå¤§çš„ç‚¹å‡»ç›®æ ‡

## æ€§èƒ½ä¼˜åŒ–

### ç»„ä»¶ä¼˜åŒ–
- å•†å“æ•°é‡çš„è®°å¿†åŒ–å¤„ç†
- æŒ‚è½½çŠ¶æ€çš„ä¼˜åŒ–ç®¡ç†
- é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“

### çŠ¶æ€ç®¡ç†ä¼˜åŒ–
- é«˜æ•ˆçš„çŠ¶æ€è®¢é˜…æœºåˆ¶
- æœ€å°åŒ–çŠ¶æ€æ›´æ–°èŒƒå›´
- é˜²æŠ–å¤„ç†é¢‘ç¹æ›´æ–°

### æ¸²æŸ“ä¼˜åŒ–
- SSR å®‰å…¨çš„å®ç°æ–¹å¼
- å®¢æˆ·ç«¯æ°´åˆçš„ä¼˜åŒ–
- æ¡ä»¶æ¸²æŸ“çš„æ€§èƒ½è€ƒè™‘

## é”™è¯¯å¤„ç†

### çŠ¶æ€ç®¡ç†é”™è¯¯
- è´­ç‰©è½¦çŠ¶æ€è·å–å¤±è´¥
- æ˜¾ç¤ºé»˜è®¤çš„ç©ºçŠ¶æ€
- ä¸å½±å“åŸºæœ¬å¯¼èˆªåŠŸèƒ½

### å¯¼èˆªé”™è¯¯
- é¡µé¢è·³è½¬å¤±è´¥å¤„ç†
- é”™è¯¯è¾¹ç•Œçš„ä¿æŠ¤
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

### æ°´åˆé”™è¯¯
- æœåŠ¡ç«¯å®¢æˆ·ç«¯ä¸ä¸€è‡´
- ä½¿ç”¨æŒ‚è½½çŠ¶æ€é˜²æŠ¤
- ä¼˜é›…é™çº§å¤„ç†

## æŠ€æœ¯å®ç°

### çŠ¶æ€ç®¡ç†
```typescript
const itemCount = useCartStore((state) => state.getItemCount());
```

### SSR å®‰å…¨å¤„ç†
```typescript
const [mounted, setMounted] = useState(false);

useEffect(() => {
  setMounted(true);
}, []);

if (!mounted) {
  return <LoadingState />;
}
```

### æ•°é‡æ˜¾ç¤ºé€»è¾‘
```typescript
const displayCount = itemCount > 99 ? "99+" : itemCount.toString();
```

## é›†æˆè¦æ±‚

### çŠ¶æ€ç®¡ç†ä¾èµ–
- Zustand è´­ç‰©è½¦çŠ¶æ€ç®¡ç†
- getItemCount æ–¹æ³•çš„å®ç°
- çŠ¶æ€å˜åŒ–çš„è‡ªåŠ¨é€šçŸ¥

### è·¯ç”±ä¾èµ–
- Next.js Link ç»„ä»¶
- è´­ç‰©è½¦é¡µé¢è·¯ç”± (/client/cart)
- é¡µé¢é—´çŠ¶æ€ä¿æŒ

### æ ·å¼ä¾èµ–
- Tailwind CSS ç±»å
- ä¸»é¢˜è‰²å½©å˜é‡
- å“åº”å¼æ–­ç‚¹é…ç½®

## æ‰©å±•æ€§è®¾è®¡

### åŠŸèƒ½æ‰©å±•
- æ”¯æŒè´­ç‰©è½¦é¢„è§ˆå¼¹çª—
- æ”¯æŒå¿«é€Ÿæ·»åŠ /ç§»é™¤å•†å“
- æ”¯æŒå¤šç§å¾½ç« æ ·å¼

### æ ·å¼å®šåˆ¶
- å¯é…ç½®çš„é¢œè‰²ä¸»é¢˜
- å¯è°ƒæ•´çš„å°ºå¯¸è§„æ ¼
- è‡ªå®šä¹‰å›¾æ ‡æ”¯æŒ

### è¡Œä¸ºå®šåˆ¶
- å¯é…ç½®çš„å¯¼èˆªç›®æ ‡
- å¯è‡ªå®šä¹‰çš„æ•°é‡æ˜¾ç¤ºé€»è¾‘
- å¯æ‰©å±•çš„äº¤äº’åŠ¨ç”»

è¿™ä¸ªè´­ç‰©è½¦æŒ‰é’®ç»„ä»¶æä¾›äº†å®Œæ•´çš„è´­ç‰©è½¦çŠ¶æ€æ˜¾ç¤ºå’Œå¯¼èˆªåŠŸèƒ½ï¼Œå…·æœ‰è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€æ€§èƒ½å’Œå¯è®¿é—®æ€§ï¼Œé€‚åˆåœ¨ç”µå•†å’Œè´­ç‰©ç›¸å…³çš„åº”ç”¨ä¸­ä½¿ç”¨ã€‚